<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2362px" preserveAspectRatio="none" style="width:1121px;height:2362px;background:#FFFFFF;" version="1.1" viewBox="0 0 1121 2362" width="1121px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:1.0;" x1="648.271" x2="648.271" y1="271.6563" y2="355.0547"/><polygon fill="#181818" points="644.271,281.6563,648.271,271.6563,652.271,281.6563,648.271,277.6563" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="644.271,345.0547,648.271,355.0547,652.271,345.0547,648.271,349.0547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.6528" x="652.271" y="317.856">1000 ms</text><line style="stroke:#181818;stroke-width:1.0;" x1="648.271" x2="648.271" y1="975.2422" y2="1087.7734"/><polygon fill="#181818" points="644.271,985.2422,648.271,975.2422,652.271,985.2422,648.271,981.2422" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="644.271,1077.7734,648.271,1087.7734,652.271,1077.7734,648.271,1081.7734" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.6528" x="652.271" y="1036.0083">1000 ms</text><line style="stroke:#181818;stroke-width:1.0;" x1="479.5593" x2="479.5593" y1="1200.3047" y2="1312.8359"/><polygon fill="#181818" points="475.5593,1210.3047,479.5593,1200.3047,483.5593,1210.3047,479.5593,1206.3047" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="475.5593,1302.8359,479.5593,1312.8359,483.5593,1302.8359,479.5593,1306.8359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.6528" x="483.5593" y="1261.0708">1000 ms</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="287.9639" x2="287.9639" y1="52.5938" y2="2309.6172"/><rect fill="#FFBBBB" height="137.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="282.9639" y="190.2578"/><rect fill="#FFBBBB" height="58.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="282.9639" y="401.3203"/><rect fill="#005500" height="13" style="stroke:#181818;stroke-width:1.0;" width="10" x="282.9639" y="683.6484"/><rect fill="#005500" height="13" style="stroke:#181818;stroke-width:1.0;" width="10" x="282.9639" y="893.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="491.8901" x2="491.8901" y1="52.5938" y2="2309.6172"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="671.1548" x2="671.1548" y1="52.5938" y2="2309.6172"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="804.6519" x2="804.6519" y1="52.5938" y2="2309.6172"/><rect fill="#FFBBBB" height="160.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="799.6519" y="269.6563"/><rect fill="#FFBBBB" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="799.6519" y="488.7188"/><rect fill="#FFD700" height="13" style="stroke:#181818;stroke-width:1.0;" width="10" x="799.6519" y="836.5781"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.9453" x="228.4912" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.9453" x="235.4912" y="41.292">TTChatHandler</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169.2646" x="407.2578" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.2646" x="414.2578" y="24.9951">TTUtilsMessageQueue</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.7139" x="459.0332" y="41.292">(primary)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169.2646" x="586.5225" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.2646" x="593.5225" y="24.9951">TTUtilsMessageQueue</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.4736" x="629.418" y="41.292">(secondary)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.8203" x="772.7417" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.8203" x="779.7417" y="41.292">TTChat</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.9453" x="228.4912" y="2309.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.9453" x="235.4912" y="2329.6123">TTChatHandler</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169.2646" x="407.2578" y="2309.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.2646" x="414.2578" y="2329.6123">TTUtilsMessageQueue</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.7139" x="459.0332" y="2345.9092">(primary)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169.2646" x="586.5225" y="2309.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.2646" x="593.5225" y="2329.6123">TTUtilsMessageQueue</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.4736" x="629.418" y="2345.9092">(secondary)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.8203" x="772.7417" y="2309.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.8203" x="779.7417" y="2329.6123">TTChat</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1109.2314" x="5" y="81.1602"/><line style="stroke:#000000;stroke-width:1.0;" x1="5" x2="1114.2314" y1="81.1602" y2="81.1602"/><line style="stroke:#000000;stroke-width:1.0;" x1="5" x2="1114.2314" y1="84.1602" y2="84.1602"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="110.624" x="504.3037" y="70.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92.0981" x="510.3037" y="86.6606">Initialization</text><path d="M30.6489,108.7266 L30.6489,148.7266 L282.6489,148.7266 L282.6489,118.7266 L272.6489,108.7266 L30.6489,108.7266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M272.6489,108.7266 L272.6489,118.7266 L282.6489,118.7266 L272.6489,108.7266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.3984" x="36.6489" y="125.7935">Only one attempt will be made</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.3149" x="36.6489" y="140.9263">to create and open message queue</text><polygon fill="#181818" points="479.8901,186.2578,489.8901,190.2578,479.8901,194.2578,483.8901,190.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292.9639" x2="485.8901" y1="190.2578" y2="190.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.1416" x="299.9639" y="170.0591">create and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.4517" x="299.9639" y="185.1919">open primary</text><path d="M809.6519,203.2578 L809.6519,243.2578 L1095.6519,243.2578 L1095.6519,213.2578 L1085.6519,203.2578 L809.6519,203.2578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1085.6519,203.2578 L1085.6519,213.2578 L1095.6519,213.2578 L1085.6519,203.2578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.0215" x="815.6519" y="220.3247">Up to five attempts will be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265.7256" x="815.6519" y="235.4575">made to open primmary message queue</text><polygon fill="#181818" points="502.8901,265.6563,492.8901,269.6563,502.8901,273.6563,498.8901,269.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496.8901" x2="798.6519" y1="269.6563" y2="269.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.4517" x="508.8901" y="264.5903">open primary</text><polygon fill="#181818" points="787.6519,294.7891,797.6519,298.7891,787.6519,302.7891,791.6519,298.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491.8901" x2="793.6519" y1="298.7891" y2="298.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.3486" x="498.8901" y="293.7231">failure</text><polygon fill="#181818" points="303.9639,323.9219,293.9639,327.9219,303.9639,331.9219,299.9639,327.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297.9639" x2="490.8901" y1="327.9219" y2="327.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="309.9639" y="322.856">success</text><polygon fill="#181818" points="502.8901,353.0547,492.8901,357.0547,502.8901,361.0547,498.8901,357.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496.8901" x2="798.6519" y1="357.0547" y2="357.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.4517" x="508.8901" y="351.9888">open primary</text><polygon fill="#181818" points="659.1548,397.3203,669.1548,401.3203,659.1548,405.3203,663.1548,401.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292.9639" x2="665.1548" y1="401.3203" y2="401.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.1416" x="299.9639" y="381.1216">create and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.9429" x="299.9639" y="396.2544">open secondary</text><polygon fill="#181818" points="787.6519,426.4531,797.6519,430.4531,787.6519,434.4531,791.6519,430.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491.8901" x2="793.6519" y1="430.4531" y2="430.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="498.8901" y="425.3872">success</text><polygon fill="#181818" points="303.9639,455.5859,293.9639,459.5859,303.9639,463.5859,299.9639,459.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297.9639" x2="670.1548" y1="459.5859" y2="459.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="309.9639" y="454.52">success</text><polygon fill="#181818" points="682.1548,484.7188,672.1548,488.7188,682.1548,492.7188,678.1548,488.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.1548" x2="798.6519" y1="488.7188" y2="488.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.9429" x="688.1548" y="483.6528">open secondary</text><polygon fill="#181818" points="787.6519,513.8516,797.6519,517.8516,787.6519,521.8516,791.6519,517.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="671.1548" x2="793.6519" y1="517.8516" y2="517.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="678.1548" y="512.7856">success</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1109.2314" x="5" y="546.418"/><line style="stroke:#000000;stroke-width:1.0;" x1="5" x2="1114.2314" y1="546.418" y2="546.418"/><line style="stroke:#000000;stroke-width:1.0;" x1="5" x2="1114.2314" y1="549.418" y2="549.418"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="132.3901" x="493.4207" y="535.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113.8643" x="499.4207" y="551.9185">Communication</text><path d="M54.1733,573.9844 L54.1733,628.9844 L282.1733,628.9844 L282.1733,583.9844 L272.1733,573.9844 L54.1733,573.9844 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M272.1733,573.9844 L272.1733,583.9844 L282.1733,583.9844 L272.1733,573.9844 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.7905" x="60.1733" y="591.0513">Primary message queue is used</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.1118" x="60.1733" y="606.1841">to send one-way any messages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.4917" x="60.1733" y="621.3169">to the application.</text><line style="stroke:#181818;stroke-width:1.0;" x1="287.9639" x2="334.9639" y1="670.6484" y2="670.6484"/><line style="stroke:#181818;stroke-width:1.0;" x1="334.9639" x2="334.9639" y1="670.6484" y2="683.6484"/><line style="stroke:#181818;stroke-width:1.0;" x1="293.9639" x2="334.9639" y1="683.6484" y2="683.6484"/><polygon fill="#181818" points="303.9639,679.6484,293.9639,683.6484,303.9639,687.6484,299.9639,683.6484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.0454" x="299.9639" y="650.4497">start sender thread</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.4351" x="299.9639" y="665.5825">(primary message queue)</text><path d="M809.6519,696.6484 L809.6519,781.6484 L1108.6519,781.6484 L1108.6519,706.6484 L1098.6519,696.6484 L809.6519,696.6484 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1098.6519,696.6484 L1098.6519,706.6484 L1108.6519,706.6484 L1098.6519,696.6484 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.1733" x="815.6519" y="713.7153">Secondary message queue is used</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245.1719" x="815.6519" y="728.8481">to send one-way heartbeat messages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241.6045" x="815.6519" y="743.981">to the application handler. messages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278.5796" x="815.6519" y="759.1138">from primary message queue are reiceved</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0933" x="815.6519" y="774.2466">in the main thread.</text><line style="stroke:#181818;stroke-width:1.0;" x1="804.6519" x2="851.6519" y1="823.5781" y2="823.5781"/><line style="stroke:#181818;stroke-width:1.0;" x1="851.6519" x2="851.6519" y1="823.5781" y2="836.5781"/><line style="stroke:#181818;stroke-width:1.0;" x1="810.6519" x2="851.6519" y1="836.5781" y2="836.5781"/><polygon fill="#181818" points="820.6519,832.5781,810.6519,836.5781,820.6519,840.5781,816.6519,836.5781" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.0454" x="816.6519" y="803.3794">start sender thread</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.9263" x="816.6519" y="818.5122">(secondary message queue)</text><line style="stroke:#181818;stroke-width:1.0;" x1="287.9639" x2="334.9639" y1="880.8438" y2="880.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="334.9639" x2="334.9639" y1="880.8438" y2="893.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="293.9639" x2="334.9639" y1="893.8438" y2="893.8438"/><polygon fill="#181818" points="303.9639,889.8438,293.9639,893.8438,303.9639,897.8438,299.9639,893.8438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.5767" x="299.9639" y="860.645">start receiver thread</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.9263" x="299.9639" y="875.7778">(secondary message queue)</text><path d="M809.6519,906.8438 L809.6519,946.8438 L1026.6519,946.8438 L1026.6519,916.8438 L1016.6519,906.8438 L809.6519,906.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1016.6519,906.8438 L1016.6519,916.8438 L1026.6519,916.8438 L1016.6519,906.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.8188" x="815.6519" y="923.9106">Up to three attempts will be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.5742" x="815.6519" y="939.0435">made to receive any message</text><polygon fill="#181818" points="502.8901,969.2422,492.8901,973.2422,502.8901,977.2422,498.8901,973.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496.8901" x2="803.6519" y1="973.2422" y2="973.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7915" x="508.8901" y="968.1763">receive</text><polygon fill="#181818" points="792.6519,998.375,802.6519,1002.375,792.6519,1006.375,796.6519,1002.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491.8901" x2="798.6519" y1="1002.375" y2="1002.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.3486" x="498.8901" y="997.3091">failure</text><polygon fill="#181818" points="479.8901,1027.5078,489.8901,1031.5078,479.8901,1035.5078,483.8901,1031.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.9639" x2="485.8901" y1="1031.5078" y2="1031.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.4971" x="294.9639" y="1026.4419">send (heartbeat)</text><polygon fill="#181818" points="298.9639,1056.6406,288.9639,1060.6406,298.9639,1064.6406,294.9639,1060.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292.9639" x2="490.8901" y1="1060.6406" y2="1060.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="304.9639" y="1055.5747">success</text><polygon fill="#181818" points="502.8901,1085.7734,492.8901,1089.7734,502.8901,1093.7734,498.8901,1089.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496.8901" x2="803.6519" y1="1089.7734" y2="1089.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7915" x="508.8901" y="1084.7075">receive</text><polygon fill="#181818" points="792.6519,1114.9063,802.6519,1118.9063,792.6519,1122.9063,796.6519,1118.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491.8901" x2="798.6519" y1="1118.9063" y2="1118.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="498.8901" y="1113.8403">success</text><path d="M21.1973,1131.9063 L21.1973,1171.9063 L282.1973,1171.9063 L282.1973,1141.9063 L272.1973,1131.9063 L21.1973,1131.9063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M272.1973,1131.9063 L272.1973,1141.9063 L282.1973,1141.9063 L272.1973,1131.9063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.8188" x="27.1973" y="1148.9731">Up to three attempts will be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240.7666" x="27.1973" y="1164.106">made to receive heartbeat message.</text><polygon fill="#181818" points="659.1548,1194.3047,669.1548,1198.3047,659.1548,1202.3047,663.1548,1198.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.9639" x2="665.1548" y1="1198.3047" y2="1198.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7915" x="294.9639" y="1193.2388">receive</text><polygon fill="#181818" points="298.9639,1223.4375,288.9639,1227.4375,298.9639,1231.4375,294.9639,1227.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292.9639" x2="670.1548" y1="1227.4375" y2="1227.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.3486" x="304.9639" y="1222.3716">failure</text><polygon fill="#181818" points="682.1548,1252.5703,672.1548,1256.5703,682.1548,1260.5703,678.1548,1256.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.1548" x2="803.6519" y1="1256.5703" y2="1256.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.4971" x="688.1548" y="1251.5044">send (heartbeat)</text><polygon fill="#181818" points="792.6519,1281.7031,802.6519,1285.7031,792.6519,1289.7031,796.6519,1285.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="671.1548" x2="798.6519" y1="1285.7031" y2="1285.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="678.1548" y="1280.6372">success</text><polygon fill="#181818" points="659.1548,1310.8359,669.1548,1314.8359,659.1548,1318.8359,663.1548,1314.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.9639" x2="665.1548" y1="1314.8359" y2="1314.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7915" x="294.9639" y="1309.77">receive</text><polygon fill="#181818" points="298.9639,1339.9688,288.9639,1343.9688,298.9639,1347.9688,294.9639,1343.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292.9639" x2="670.1548" y1="1343.9688" y2="1343.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="304.9639" y="1338.9028">success</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1109.2314" x="5" y="1372.5352"/><line style="stroke:#000000;stroke-width:1.0;" x1="5" x2="1114.2314" y1="1372.5352" y2="1372.5352"/><line style="stroke:#000000;stroke-width:1.0;" x1="5" x2="1114.2314" y1="1375.5352" y2="1375.5352"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="173.9609" x="472.6353" y="1361.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="155.4351" x="478.6353" y="1378.0356">Communication cont.</text><ellipse cx="10.5" cy="1415.4844" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="275.9639,1412.2344,285.9639,1416.2344,275.9639,1420.2344,279.9639,1416.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="15" x2="281.9639" y1="1416.2344" y2="1416.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.5518" x="235.4121" y="1411.1685">create</text><ellipse cx="10.5" cy="1444.6172" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="275.9639,1441.3672,285.9639,1445.3672,275.9639,1449.3672,279.9639,1445.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="15" x2="281.9639" y1="1445.3672" y2="1445.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.6255" x="238.3384" y="1440.3013">select</text><polygon fill="#181818" points="479.8901,1470.5,489.8901,1474.5,479.8901,1478.5,483.8901,1474.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.9639" x2="485.8901" y1="1474.5" y2="1474.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.6064" x="294.9639" y="1469.4341">send (clear)</text><polygon fill="#181818" points="298.9639,1499.6328,288.9639,1503.6328,298.9639,1507.6328,294.9639,1503.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292.9639" x2="490.8901" y1="1503.6328" y2="1503.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="304.9639" y="1498.5669">success</text><path d="M809.6519,1516.6328 L809.6519,1586.6328 L1107.6519,1586.6328 L1107.6519,1526.6328 L1097.6519,1516.6328 L809.6519,1516.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1097.6519,1516.6328 L1097.6519,1526.6328 L1107.6519,1526.6328 L1097.6519,1516.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.0352" x="815.6519" y="1533.6997">Heartbeats are send continuously</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277.5386" x="815.6519" y="1548.8325">in the secondary message queue (thread).</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.7031" x="815.6519" y="1563.9653">Any messages are received continuously</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.874" x="815.6519" y="1579.0981">in the primary message queue.</text><polygon fill="#181818" points="682.1548,1609.2969,672.1548,1613.2969,682.1548,1617.2969,678.1548,1613.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.1548" x2="803.6519" y1="1613.2969" y2="1613.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.4971" x="688.1548" y="1608.231">send (heartbeat)</text><polygon fill="#181818" points="502.8901,1638.4297,492.8901,1642.4297,502.8901,1646.4297,498.8901,1642.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496.8901" x2="803.6519" y1="1642.4297" y2="1642.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7915" x="508.8901" y="1637.3638">receive</text><polygon fill="#181818" points="792.6519,1667.5625,802.6519,1671.5625,792.6519,1675.5625,796.6519,1671.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="671.1548" x2="798.6519" y1="1671.5625" y2="1671.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="678.1548" y="1666.4966">success</text><polygon fill="#181818" points="792.6519,1696.6953,802.6519,1700.6953,792.6519,1704.6953,796.6519,1700.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491.8901" x2="798.6519" y1="1700.6953" y2="1700.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="498.8901" y="1695.6294">success</text><ellipse cx="10.5" cy="1729.0781" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="275.9639,1725.8281,285.9639,1729.8281,275.9639,1733.8281,279.9639,1729.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="15" x2="281.9639" y1="1729.8281" y2="1729.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.2622" x="245.7017" y="1724.7622">send</text><path d="M10,1742.8281 L10,1827.8281 L282,1827.8281 L282,1752.8281 L272,1742.8281 L10,1742.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M272,1742.8281 L272,1752.8281 L282,1752.8281 L272,1742.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.9639" x="16" y="1759.895">Heartbeats are send from time to time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.1436" x="16" y="1775.0278">if no other messages are queued in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.8906" x="16" y="1790.1606">the primary message queue.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244.8164" x="16" y="1805.2935">Heartbeats are received continuously</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.3652" x="16" y="1820.4263">in the secondary message queue.</text><polygon fill="#181818" points="659.1548,1850.625,669.1548,1854.625,659.1548,1858.625,663.1548,1854.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.9639" x2="665.1548" y1="1854.625" y2="1854.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7915" x="294.9639" y="1849.5591">receive</text><polygon fill="#181818" points="479.8901,1879.7578,489.8901,1883.7578,479.8901,1887.7578,483.8901,1883.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.9639" x2="485.8901" y1="1883.7578" y2="1883.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.8003" x="294.9639" y="1878.6919">send (send)</text><polygon fill="#181818" points="298.9639,1908.8906,288.9639,1912.8906,298.9639,1916.8906,294.9639,1912.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292.9639" x2="490.8901" y1="1912.8906" y2="1912.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="304.9639" y="1907.8247">success</text><polygon fill="#181818" points="502.8901,1938.0234,492.8901,1942.0234,502.8901,1946.0234,498.8901,1942.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496.8901" x2="803.6519" y1="1942.0234" y2="1942.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7915" x="508.8901" y="1936.9575">receive</text><polygon fill="#181818" points="792.6519,1967.1563,802.6519,1971.1563,792.6519,1975.1563,796.6519,1971.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491.8901" x2="798.6519" y1="1971.1563" y2="1971.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="498.8901" y="1966.0903">success</text><polygon fill="#181818" points="298.9639,1996.2891,288.9639,2000.2891,298.9639,2004.2891,294.9639,2000.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292.9639" x2="670.1548" y1="2000.2891" y2="2000.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="304.9639" y="1995.2231">success</text><ellipse cx="10.5" cy="2028.6719" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="275.9639,2025.4219,285.9639,2029.4219,275.9639,2033.4219,279.9639,2029.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="15" x2="281.9639" y1="2029.4219" y2="2029.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7915" x="229.1724" y="2024.356">receive</text><polygon fill="#181818" points="479.8901,2054.5547,489.8901,2058.5547,479.8901,2062.5547,483.8901,2058.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.9639" x2="485.8901" y1="2058.5547" y2="2058.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.3296" x="294.9639" y="2053.4888">send (receive)</text><polygon fill="#181818" points="298.9639,2083.6875,288.9639,2087.6875,298.9639,2091.6875,294.9639,2087.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292.9639" x2="490.8901" y1="2087.6875" y2="2087.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="304.9639" y="2082.6216">success</text><polygon fill="#181818" points="502.8901,2112.8203,492.8901,2116.8203,502.8901,2120.8203,498.8901,2116.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496.8901" x2="803.6519" y1="2116.8203" y2="2116.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7915" x="508.8901" y="2111.7544">receive</text><polygon fill="#181818" points="792.6519,2141.9531,802.6519,2145.9531,792.6519,2149.9531,796.6519,2145.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491.8901" x2="798.6519" y1="2145.9531" y2="2145.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="498.8901" y="2140.8872">success</text><ellipse cx="10.5" cy="2174.3359" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="275.9639,2171.0859,285.9639,2175.0859,275.9639,2179.0859,279.9639,2175.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="15" x2="281.9639" y1="2175.0859" y2="2175.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.0757" x="248.8882" y="2170.02">stop</text><polygon fill="#181818" points="479.8901,2200.2188,489.8901,2204.2188,479.8901,2208.2188,483.8901,2204.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.9639" x2="485.8901" y1="2204.2188" y2="2204.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.8926" x="294.9639" y="2199.1528">send (goodbye)</text><polygon fill="#181818" points="298.9639,2229.3516,288.9639,2233.3516,298.9639,2237.3516,294.9639,2233.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292.9639" x2="490.8901" y1="2233.3516" y2="2233.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="304.9639" y="2228.2856">success</text><polygon fill="#181818" points="502.8901,2258.4844,492.8901,2262.4844,502.8901,2266.4844,498.8901,2262.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496.8901" x2="803.6519" y1="2262.4844" y2="2262.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7915" x="508.8901" y="2257.4185">receive</text><polygon fill="#181818" points="792.6519,2287.6172,802.6519,2291.6172,792.6519,2295.6172,796.6519,2291.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491.8901" x2="798.6519" y1="2291.6172" y2="2291.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="498.8901" y="2286.5513">success</text><line style="stroke:#181818;stroke-width:1.0;" x1="648.271" x2="648.271" y1="271.6563" y2="355.0547"/><polygon fill="#181818" points="644.271,281.6563,648.271,271.6563,652.271,281.6563,648.271,277.6563" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="644.271,345.0547,648.271,355.0547,652.271,345.0547,648.271,349.0547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.6528" x="652.271" y="317.856">1000 ms</text><line style="stroke:#181818;stroke-width:1.0;" x1="648.271" x2="648.271" y1="975.2422" y2="1087.7734"/><polygon fill="#181818" points="644.271,985.2422,648.271,975.2422,652.271,985.2422,648.271,981.2422" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="644.271,1077.7734,648.271,1087.7734,652.271,1077.7734,648.271,1081.7734" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.6528" x="652.271" y="1036.0083">1000 ms</text><line style="stroke:#181818;stroke-width:1.0;" x1="479.5593" x2="479.5593" y1="1200.3047" y2="1312.8359"/><polygon fill="#181818" points="475.5593,1210.3047,479.5593,1200.3047,483.5593,1210.3047,479.5593,1206.3047" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="475.5593,1302.8359,479.5593,1312.8359,483.5593,1302.8359,479.5593,1306.8359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.6528" x="483.5593" y="1261.0708">1000 ms</text><!--SRC=[pLTTJzim57tthxXZB-q3LJhWfLedRKY8FKpRD7WQqkGcJcifiJFR0HN4Vv_jV3Hf7PEaOg8FjDGtzzvpplMvy2uJU9rYK8G_WX8vGIZ3Gj6GPfWfEBcvkTnWTOrPb11n0bX2wvlzu5j54_cDI8dNv6TESdB79fcWAHRRQVdqGSYFuhnFAab2pY9VibzLX0j6et-4baluogYYEA6FM57EOBb4Z2i22OaLy7WFwNUMR84p0bWfacOA7cYIm8f0YYE258TG4AoVrk70Cy8WBTg2lwOlHFJN9ZjgPONJJnvAOD58UiTirf9DX4D5xyrHEz_xgwil-bK04NIzQI11jndeFcDwNuEG5GfaK9ZJkeXje0F3Kqo5L7zCx7EP_4KalkxhjZqPR7uRl80OqoGNf5TunSm2P1w6EX95n4qUUYhcwmXSVSIjHzGbRptXBmdSak2ZhjHkVW7p80WWbNqfxIG7UI6CeTbBR9CTFoE-eN4qwCMepU2IfsdEQDZ72oe2MzS3g8HSaiXuWJHNHPl5wGFUQdNhI6aErKOhdcL9MMlczOOzRfLsDPjT_wesUdgYdSEssvbsJb0GN5m4GRS-Jk_OCTeFz8ReJbTwkdtGOLEKdEs2Oi5JS082B7HRX8RaNjUZp2PBiVrWY3ZWiQszapdfHZKzdBKrJoBdvUYbc20XqROxel9ngXMERufwBBzihZcd3QilJ-Uz3R5yOBYN3zcBTjOczP1DHww22js7rqAtNsXUclMkxiwfFOOpICU3gpSxbFFi6ORkAWzoxpve2zoZK1zj_GPVeJp_VoZtIv-rXJvl2dsmRNHUDJCxvpTtf2x-I72VIPAGK8swF66Y6HvxSPnkSrr99grNsp866cKvpsMohKoxm_jWKhZZT8O-DrPcwVkMHdS-vxheM0T39-zOK_0Fwa0NwHW15lcymwMAtRAAfjOtp3kYiUOAkAPJj9ctP4P06V9GlLV3grQ7-hDX_oAvx-pmMs1-Zhq4hxionZgGSqYEeQXyzcsovBuIYcUZeAuvZrRRjmdr7m00]--></g></svg>